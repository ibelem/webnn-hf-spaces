<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>On-Device OCR (WebNN)</title>
    <script src="https://docs.opencv.org/4.8.0/opencv.js" async></script>
    <script type="module" crossorigin src="./assets/index-CWNpE5oK.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-BOYqtqLF.css">
  </head>

  <body>
    <h1>On-device OCR on <span id="backend-display"></span></h1>
    
    <div id="ocr">
        <div id="container">
            <img id="image-preview" />
            <canvas id="canvas-overlay"></canvas>
        </div>
        <div id="result-container"></div>
    </div>
    
    <div class="g2">
        <div class="controls">
            <div id="upload-block">
                <label id="upload-button" for="upload">
                    <svg
                    width="25"
                    height="25"
                    viewBox="0 0 25 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    >
                    <path
                        fill="#000"
                        d="M3.5 24.3a3 3 0 0 1-1.9-.8c-.5-.5-.8-1.2-.8-1.9V2.9c0-.7.3-1.3.8-1.9.6-.5 1.2-.7 2-.7h18.6c.7 0 1.3.2 1.9.7.5.6.7 1.2.7 2v18.6c0 .7-.2 1.4-.7 1.9a3 3 0 0 1-2 .8H3.6Zm0-2.7h18.7V2.9H3.5v18.7Zm2.7-2.7h13.3c.3 0 .5 0 .6-.3v-.7l-3.7-5a.6.6 0 0 0-.6-.2c-.2 0-.4 0-.5.3l-3.5 4.6-2.4-3.3a.6.6 0 0 0-.6-.3c-.2 0-.4.1-.5.3l-2.7 3.6c-.1.2-.2.4 0 .7.1.2.3.3.6.3Z"
                    ></path>
                    </svg>
                </label>
                <div>
                Click to upload image
                <label id="example-link">or try example</label>
                </div>
            </div>
            <div id="model-versions">
                <label><input type="radio" name="model-version" value="0">PP-OCR v4</label>
                <label><input type="radio" name="model-version" value="1">PP-OCR v5</label>
            </div>
            <div id="status">Initializing...</div>
        </div>
            
        <div id="performance">
            <div>
                <div class="model">Model <span id="backend"></span></div>
                <div class="detection">Compilation (ms)</div>
                <div class="detection">Inference (ms)</div>
            </div>
            <div>
                <div class="model">Detection</div>
                <div id="detCom"></div>
                <div id="detInf"></div>
            </div>
            <div>
                <div class="model">Recognition</div>
                <div id="recCom"></div>
                <div id="recInf"></div>
            </div>
        </div>
    </div>
    <input id="upload" type="file" accept="image/*" />

    <div class="device-links">
      <a href="?device=wasm">Wasm</a> 路 <a href="?device=webgpu">WebGPU</a> 路 <a href="?device=webnn-cpu">WebNN CPU</a> 路 <a href="?device=webnn-gpu">WebNN GPU</a> 路 <a href="?device=webnn-npu">WebNN NPU</a>
    </div>

  </body>
</html>
